
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title><三每楼/></title>
  <meta name="author" content="vic">

  
  <meta name="description" content="DNS DNS服务器是计算机域名系统 (Domain Name System 或Domain Name Service) 的缩写，它是由域名解析器和域名服务器组成的。域名服务器是指保存有该网络中所有主机的域名和对应IP地址，并具有将域名转换为IP地址功能的服务器。其中域名必须对应一个IP地址， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://viczy.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="<三每楼/>&#8221; type=&#8221;application/atom+xml&#8221;>
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->

<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/"><三每楼/></a></h1>
  
    <h2>Just Remand Something For Self.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:viczy.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/12/06/wang-luo-chu/">网络初窥</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-12-06T17:36:08+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>5:36 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>DNS</h3>

<p>DNS服务器是计算机域名系统 (Domain Name System 或Domain Name Service) 的缩写，它是由域名解析器和域名服务器组成的。域名服务器是指保存有该网络中所有主机的域名和对应IP地址，并具有将域名转换为IP地址功能的服务器。其中域名必须对应一个IP地址，而IP地址不一定有域名。</p>

<h4>域名由来</h4>

<p>IP地址是Internet主机的作为路由寻址用的数字型标识，人不容易记忆。因而产生了域名（domain name）这一种字符型标识。</p>

<p>一个域名的“所有者”可以通过查询<code>whois</code>数据库而被找到；对于大多数<code>gTLD</code>（Generic top-level domain），基本的WHOIS由<code>ICANN</code>（The Internet Corporation for Assigned Names and Numbers）维护，而WHOIS的细节则由控制那个域的域注册机构维护。至於有240個以上的國家域名（<code>ccTLDs</code>）的域註冊由相應的國家維護其WHOIS。</p>

<h4>域名注册</h4>

<p>一般來說，gTLD域名的管理機構，都僅制定域名政策，而不涉入用戶註冊事宜，這些機構會將註冊事宜授權給通過審核的頂級註冊商，再由頂級註冊商向下授權給其它二、三級代理商。</p>

<p>ccTLD的註冊就比較複雜，除了遵循前述規範外，部份國家如前述將域名轉包給某些公司管理（如西薩摩亞ws），亦有管理機構兼頂級註冊機構的狀況：（如南非za）。</p>

<p>各種域名註冊所需資格不同，gTLD除少數例外（如travel）外，一般均不限資格；而ccTLD則往往有資格限制，甚至必需繳驗實體證件。</p>

<p>一个域名的所有者可以通过查询WHOIS数据库而被找到；对于大多数根域名服务器，基本的WHOIS由ICANN维护，而WHOIS的细节则由控制那个域的域注册机构维护。</p>

<h3>IP,子网掩码，网关，DHCP，ARP（来自知乎回答的比较通俗的解释）</h3>

<p>计算机主机网关的作用是什么？</p>

<p>假设你的名字叫小不点，你住在一个大院子里，你的邻居有很多小伙伴，在门口传达室还有个看大门的李大爷，李大爷就是你的网关。当你想跟院子里的某个小伙伴玩，只要你在院子里大喊一声他的名字，他听到了就会回应你，并且跑出来跟你玩。</p>

<p>但是你不被允许走出大门，你想与外界发生的一切联系，都必须由门口的李大爷（网关）用电话帮助你联系。假如你想找你的同学小明聊天，小明家住在很远的另外一个院子里，他家的院子里也有一个看门的王大爷（小明的网关）。但是你不知道小明家的电话号码，不过你的班主任老师有一份你们班全体同学的名单和电话号码对照表，你的老师就是你的DNS服务器。于是你在家里拨通了门口李大爷的电话，有了下面的对话：</p>

<p>小不点：李大爷，我想找班主任查一下小明的电话号码行吗？</p>

<p>李大爷：好，你等着。（接着李大爷给你的班主任挂了一个电话，问清楚
了小明的电话）问到了，他家的号码是211.99.99.99</p>

<p>小不点：太好了！李大爷，我想找小明，你再帮我联系一下小明吧。</p>

<p>李大爷：没问题。（接着李大爷向电话局发出了请求接通小明家电话的请
求，最后一关当然是被转接到了小明家那个院子的王大爷那里，然后王大
爷把电话给转到小明家）</p>

<p>就这样你和小明取得了联系。</p>

<p>至于DHCP服务器嘛，可以这样比喻：</p>

<p>你家院子里的居民越来越多了，传达室李大爷那里的电话交换机已经不能满足这么多居民的需求了，所以只好采用了一种新技术叫做DHCP，居民们开机的时候随机得到一个电话号码，每一次得到的号码都可能会不同。</p>

<p>你家门口的李大爷：就是你的网关</p>

<p>你的班主任：就是你的DNS服务器</p>

<p>传达室的电话交换机：就是你的DHCP服务器</p>

<p>同上，李大爷和王大爷之间的对话就叫做路由。</p>

<p>另：如果还有个小朋友叫做小暗，他住的院子看门的是孙大爷，因为小暗的院子刚盖好，孙大爷刚来不久，他没有李大爷和王大爷办公室的电话（李大爷和王大爷当然也没有他的电话），这时会有两种情况：</p>

<p>1、居委会的赵大妈告诉了孙大爷关于李、王两位大爷的电话（同时赵大妈也告诉了李、王关于孙的电话），这就叫静态设定路由</p>

<p>2、赵大妈病了，孙大爷自己到处打电话，见人就说：“我是小暗他们院子管电话的”，结果被李、王二位听到了，就记在了他们的通讯录上，然后李、王就给孙大爷回了个电话说：“我是小明（小不点）他们院子管电话的”，这就叫动态设定路由</p>

<p>然后有一天小不点要找小暗，结果自然是小不点给李大爷打电话说：“大爷，我找小暗”（这里省略了李大爷去查小暗电话的过程，假设他知道小暗的电话），李大爷一找通讯录：“哦，小暗的院子的电话是孙大爷管着的，要找小暗自然先要通知孙大爷，我可以通知王大爷让他去找孙大爷，也可以自己直接找孙，那当然是自己直接找孙方便了”，于是李大爷给孙大爷打了电话，然后孙大爷又把电话转到了小暗家。</p>

<p>这里李大爷的通讯录叫做路由表。</p>

<p>李大爷选择是自己直接找孙大爷还是让王大爷帮忙转接叫做路由选择。</p>

<p>李大爷之所以选择直接找孙大爷是有依据的，因为他直接找孙大爷就能一步到位，如果要王大爷转接就需要两步才能完成，这里的“步”叫做“跳数”，李大爷的选择遵循的是最少步骤（跳数）原则（如果他不遵守这个原则，小不点可能就会多等些时间才能找到小暗，最终结果可能导致李大爷因工作不力被炒鱿鱼，这叫做“延时太长，选路原则不合理，换了一个路由器”）</p>

<p>当然，事情总是变化的，小不点和小明吵架了，这些天小不点老是给小暗打电话，小明心里想：“操，他是不是在说我坏话啊？”于是小明决定偷听小不点和小暗的通话，但是他又不能出院子，怎么办呢？小明做了这样一个决定：</p>

<p>首先他告诉自己院里管电话的王大爷说：“你给李大爷打个电话说小暗搬到咱们院子了，以后凡是打给他的电话我来接”，王大爷没反映过来（毕竟年纪大了啊！）就给李大爷打了电话，说：“现在我来管理小暗的电话了，孙已经不管了”，结果李大爷就把他的通讯录改了，这叫做路由欺骗。
以后小不点再找小暗，李大爷就转给王大爷了（其实应该转给孙大爷的），王大爷收到了这个电话就转给了小明（因为他之前已经和小明说好了），小明收到这个电话就假装小暗和小不点通信。因为小明作贼心虚，害怕明天小不点和小暗见面后当面问他，于是通信断了之后，又自己以小不点的名义给小暗通了个电话复述了一遍刚才的话，有这就叫数据窃听</p>

<p>再后来，小不点还是不断的和小暗联系，而零落了小明，小明心里嘀咕啊：“我不能总是这样以小暗的身份和小不点通话啊，外一有一天露馅了怎么办！”于是他想了一个更阴险的招数：“干脆我也不偷听你们的电话了，你小不点不是不给我打电话吗！那我让你也给小暗打不了，哼哼！”，他怎么做的呢？我们来看：</p>

<p>他联系了一批狐朋狗友，和他们串通好，每天固定一个时间大家一起给小暗院子传达室打电话，内容什么都有，只要传达室的孙爷爷接电话，就会听到“打雷啦，下雨收衣服啊！”、“人是人他妈生的，妖是妖他妈生的”、“你妈贵姓”等等，听的脑袋都大了，不听又不行，电话不停的响啊！终于有一天，孙爷爷忍不住了，大喊一声：“我受不了拉！！！！”，于是上吊自杀了！
这就是最简单的DDOS攻击，孙爷爷心理承受能力弱的现象叫做“数据报处理模块有BUG”，孙爷爷的自杀叫做“路由器瘫痪”。如果是我，就会微笑着和他们拉家常，例如告诉他们“我早就听了天气预报，衣服10分钟前已经收好了”或者“那你妈是人还是妖”或者“和你奶奶一个姓”等等，我这种健全的心理叫做“健壮的数据报处理，能够抵御任何攻击”</p>

<p>孙爷爷瘫了之后，小不点终于不再给小暗打电话了，因为无论他怎么打对方都是忙音，这种现象叫做“拒绝服务”，所以小明的做法还有一个名字叫做“拒绝服务攻击”。
小明终于安静了几天，&hellip;</p>

<p>几天后，小明的院子来了一个美丽的女孩，名字叫做小丽，小明很喜欢她（小小年纪玩什么早恋！）可是小丽有个很帅的男朋友，小明干瞪眼没办法。当然这里还是要遵循上面的原则：小丽是不能出院子的。那个男的想泡小丽自然只能打电话，于是小明又蠢蠢欲动了：
还记得王爷爷是院子的电话总管吗？他之所以能管理电话是因为他有一个通讯录，因为同一个院子可能有2个孩子都叫小明，靠名字无法区分，所以通讯录上每一行只有两项：
门牌电话</p>

<p>一号门 1234567 （这个是小明的）</p>

<p>二号门 7654321 （这个是小丽的）</p>

<p>&hellip;&hellip;</p>

<p>王爷爷记性不好，但这总不会错了吧（同一个院子不会有2个“二号门”吧）？每次打电话人家都要说出要找的电话号码，然后通过通讯录去院子里面敲门，比如人家说我找“1234567”，于是王爷爷一比较，哦，是一号门的，他就去敲一号门“听电话”，如果是找“7654321”，那他就找二号门“听电话”。</p>

<p>这里的电话号码就是传说中的“IP地址”</p>

<p>这里的门牌号就是传说中的网卡的’MAC‘地址（每一块网卡的MAC地址都是不一样的，这是网卡的制造商写死在网卡的芯片中的）</p>

<p>小明心里想“奶奶的，老子泡不到你也别想泡”，于是他打起了王爷爷通讯录的主意，经过细心的观察，周密的准备，他终于发现王爷爷有尿频的毛病（毕竟是老人啊&hellip;），终于在一个月黑风高的白天，王爷爷去上厕所了，小明偷偷的摸进传达室，小心翼翼的改了王爷爷的通讯录&hellip;&hellip;</p>

<p>过了几天，小丽的男朋友又给小丽打来了电话，对方报的电话是“7654321”，王爷爷一看通讯录，靠：</p>

<p>门牌电话</p>

<p>一号门 1234567 （这个是小明的）</p>

<p>一号门 7654321 （注意：这个原来是小丽的，但是被小明改了）</p>

<p>&hellip;&hellip;</p>

<p>王爷爷不知道改了啊，于是就去找一号门的小明了，小明心里这个美啊，他以小丽父亲的口吻严厉的教训了那个男的和小丽之间不正当的男女关系，结果那个男的恭恭敬敬的挂了电话。当然小丽并不知道整个事情的发生&hellip;</p>

<p>这里小明的行为叫做“ARP欺骗”（因为在实际的网络上是通过发送ARP数据包来实现的，所以叫做“ARP欺骗”），王爷爷的通讯录叫做“ARP表”</p>

<p>这里要注意：王爷爷现在有两个通讯录了，一个是记录每个院子传达室电话的本本，叫做“路由表”，一个是现在说的记录院子里面详细信息的本本，叫做“ARP表”。</p>

<p>有句命言是“人们总是在追求完美的，尽管永远也做不到”（请记住这句话，因为这是一个大名人&ndash;也就是我，说的）</p>

<p>王爷爷的制度中有一条是这么写的“每个月要重新检查一下门牌号和电话的对应本（也就是ARP表）”，这个动作叫做“刷新ARP表”，每个月的时间限制叫做“刷新ARP表的周期”。这样小明为了让那个男的永远不能找到小丽，之后每个月都要偷偷改一次那个通讯录，不过这样也是不得不做的事啊！</p>

<p>补充一点，小明是很聪明的，如果通讯录（ARP表）被改成了这样：</p>

<p>门牌（MAC）电话（IP）</p>

<p>一号门 1234567 （这个是小明的）</p>

<p>二号门 1234567 （注意：这个被小明改了，但是他一时头晕改错了）</p>

<p>&hellip;&hellip;</p>

<p>就会是计算机就会弹出一个对话框提示“出现重复的IP地址”，最终会导致王爷爷不知所措，于是通知一号门和二号门，你们的电话重复了。这样小丽就知道有人在破坏她的好事，这个现象叫做“骗局被揭穿了”</p>

<p>小不点知道了小明偷听他和小暗的电话，于是就和小暗约定好了密码。小不点在家里把要说的加密了之后告诉小暗。土豆－〉星期三，地瓜－〉请客，笨蛋－〉小不点家。于是小不点告诉小暗：土豆笨蛋地瓜。小明听了？？？不懂。。。。郁闷了。。。这是加密。</p>

<p>除此之外，小丽也知道了小明改他家的电话号码了。于是王爷爷就登门一个一个把电话和门牌号记下来。并且藏起来不允许外人修改，只能自己有钥匙（密码）。这是ip地址和MAC地址绑定。当有人改了电话号码的时候，就得找王爷爷改。麻烦是麻烦了，但是安全了。不过小明偷偷的把王爷爷的钥匙偷配了一把（盗窃密码成功），于是他还可以修改。这样么，就这样了。</p>

<h4>子网掩码</h4>

<p>子网掩码(subnet mask)又叫网络掩码、地址掩码、子网络遮罩，它是一种用来指明一个IP地址的哪些位标识的是主机所在的子网，以及哪些位标识的是主机的位掩码。子网掩码不能单独存在，它必须结合IP地址一起使用。子网掩码只有一个作用，就是将某个IP地址划分成网络地址和主机地址两部分。</p>

<p>例如：</p>

<p>IP地址　 192.168.1.23</p>

<p>子网掩码　255.255.255.0</p>

<p>网络地址为：192.168.1.0，主机地址：192.168.1.<code>23</code></p>

<h4>网关</h4>

<p>那么网关到底是什么呢？网关实质上是一个网络通向其他网络的IP地址。比如有网络A和网络B，网络A的IP地址范围为“192.168.1.1~192. 168.1.254”，子网掩码为255.255.255.0；网络B的IP地址范围为“192.168.2.1~192.168.2.254”，子网掩码为255.255.255.0。在没有路由器的情况下，两个网络之间是不能进行TCP/IP通信的，即使是两个网络连接在同一台交换机（或集线器）上，TCP/IP协议也会根据子网掩码（255.255.255.0）判定两个网络中的主机处在不同的网络里。而要实现这两个网络之间的通信，则必须通过网关。如果网络A中的主机发现数据包的目的主机不在本地网络中，就把数据包转发给它自己的网关，再由网关转发给网络B的网关，网络B的网关再转发给网络B的某个主机。网络A向网络B转发数据包的过程。</p>

<p>所以说，只有设置好网关的IP地址，TCP/IP协议才能实现不同网络之间的相互通信。那么这个IP地址是哪台机器的IP地址呢？网关的IP地址是具有路由功能的设备的IP地址，具有路由功能的设备有路由器、启用了路由协议的服务器（实质上相当于一台路由器）、代理服务器（也相当于一台路由器）。</p>

<h4>DHCP</h4>

<p>动态主机設定協定（Dynamic Host Configuration Protocol, DHCP）是一個局域网的网络协议，使用UDP协议工作，主要有兩個用途：</p>

<ul>
<li>給內部網路或網絡服務供應商自動分配IP地址給用戶</li>
<li>給內部網路管理員作為對所有電腦作中央管理的手段</li>
</ul>


<p>DHCP用一台或一组DHCP服务器来管理网络参数的分配，这种方案具有容错性。即使在一个仅拥有少量机器的网络中，DHCP仍然是有用的，因为一台机器可以几乎不造成任何影响地被增加到本地网络中。</p>

<p>甚至对于那些很少改变地址的服务器来说，DHCP仍然被建议用来设置它们的地址。如果服务器需要被重新分配地址（RFC2071）的时候，就可以在尽可能少的地方去做这些改动。对于一些设备，如路由器和防火墙，则不应使用DHCP。把TFTP或SSH服务器放在同一台运行DHCP的机器上也是有用的，目的是为了集中管理。</p>

<p>DHCP也可用于直接为服务器和桌面计算机分配地址，并且通过一个PPP代理，也可为拨号及宽带主机，以及住宅NAT网关和路由器分配地址。DHCP一般不适用于使用在无边际路由器和DNS服务器上。</p>

<h4>ARP</h4>

<p>地址解析协议（Address Resolution Protocol），其基本功能为通过目标设备的IP地址，查询目标设备的MAC地址，以保证通信的顺利进行。它是IPv4中网络层必不可少的协议，不过在IPv6中已不再适用，并被邻居发现协议（NDP）所替代。</p>

<p>以主机A（192.168.38.10）向主机B（192.168.38.11）发送数据为例。当发送数据时，主机A会在自己的ARP缓存表中寻找是否有目标IP地址。如果找到了，也就知道了目标MAC地址為（00-BB-00-62-C2-02），直接把目标MAC地址写入帧里面发送就可以了；如果在ARP缓存表中没有找到相对应的IP地址，主机A就会在网络上发送一个广播（ARP request），目标MAC地址是“FF.FF.FF.FF.FF.FF”，这表示向同一网段内的所有主机发出这样的询 问：“192.168.38.11的MAC地址是什么？”网络上其他主机并不响应ARP询问，只有主机B接收到这个帧时，才向主机A做出这样的回应（ARP response）：“192.168.38.11的MAC地址是（00-BB-00-62-C2-02）”。 这样，主机A就知道了主机B的MAC地址，它就可以向主机B发送信息了。同时它还更新了自己的ARP缓存表，下次再向主机B发送信息时，直接从ARP缓存表里查找就可以了。ARP缓存表采用了老化机制，在一段时间内如果表中的某一行没有使用，就会被删除，这样可以大大减少ARP缓存表的长度，加快查询速度。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/12/06/railshuan-jing-pei-zhi/">Rails环境配置</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-12-06T17:33:48+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>5:33 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><!-- # Rails

![Rails icon](http://upload.wikimedia.org/wikipedia/commons/9/9c/Ruby_on_Rails_logo.jpg) -->


<h2>Rails安装</h2>

<h3>Gem</h3>

<p>RubyGems（简称 gems）是一个用于对 Ruby组件进行打包的 Ruby 打包系统。 它提供一个分发 Ruby 程序和库的标准格式，还提供一个管理程序包安装的工具(<code>gem</code>)。Rails也是一个Ruby写的RubyGem。</p>

<p>Ruby从1.9版本开始内建RubyGems。或者选择下载安装（<a href="http://rubygems.org/">下载地址</a>）。</p>

<p>查看版本</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem -v</span></code></pre></td></tr></table></div></figure>


<p>更新版本</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem update --system</span></code></pre></td></tr></table></div></figure>


<p>查看已安装的gems</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem list</span></code></pre></td></tr></table></div></figure>


<p>查看remote端的gems</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem list -r</span></code></pre></td></tr></table></div></figure>


<p>安装gems</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem install cocoapods</span></code></pre></td></tr></table></div></figure>


<p>安装特定版本的gems</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem install -v 0.33.1 cocoapods</span></code></pre></td></tr></table></div></figure>


<p>升级gems</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem update cocoapods</span></code></pre></td></tr></table></div></figure>


<p>升级所有已安装gems</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem update</span></code></pre></td></tr></table></div></figure>


<p>卸载gems</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem uninstall cocoapods</span></code></pre></td></tr></table></div></figure>


<p>gems环境信息</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem environment</span></code></pre></td></tr></table></div></figure>


<p>查看gems源</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem sources -l</span></code></pre></td></tr></table></div></figure>


<p>添加gems源</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem sources -a https://ruby.taobao.org/</span></code></pre></td></tr></table></div></figure>


<p>移除gems源</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem sources --remove https://ruby.taobao.org/</span></code></pre></td></tr></table></div></figure>


<h4>RVM管理多个gemset</h4>

<p>rvm可以在某版本ruby下建立多个gemset独立空间来用来安装不同套件组合</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm gemset create set1</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm gemset create set2</span></code></pre></td></tr></table></div></figure>


<p>查看已建立gemset列表</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm gemset list</span></code></pre></td></tr></table></div></figure>


<p>设置某个gemset为当前gems空间</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm gemset user set1</span></code></pre></td></tr></table></div></figure>


<p>清空某个gemset</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm gemset empty set1</span></code></pre></td></tr></table></div></figure>


<p>删除某个gemset</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm gemset delete set1</span></code></pre></td></tr></table></div></figure>


<h3>gem安装rails</h3>

<p>安装rails</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem install rails</span></code></pre></td></tr></table></div></figure>


<p>不需要文档的安装方式</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gem install rails --no-ri --no-rdoc</span></code></pre></td></tr></table></div></figure>


<p>rails版本</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rails -v</span></code></pre></td></tr></table></div></figure>


<h2>rails使用</h2>

<p><a href="http://guides.ruby-china.org/command_line.html">rails命令行</a></p>

<h4>官方网站</h4>

<p><a href="http://rubyonrails.org/">http://rubyonrails.org/</a></p>

<h4>Github</h4>

<p><a href="https://github.com/rails/rails">https://github.com/rails/rails</a></p>

<h4>参考资料</h4>

<ul>
<li><a href="http://guides.ruby-china.org/command_line.html">http://guides.ruby-china.org/command_line.html</a></li>
<li><a href="https://ruby-china.org/wiki/install_ruby_guide">https://ruby-china.org/wiki/install_ruby_guide</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/30/certificates-identifiers-and-profiles/">Certificates, Identifiers &amp; Profiles</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-30T23:19:11+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>11:19 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>苹果开发证书的生成是通过上传xxx.csr（rsa加密的签名）给CA生成xxx.cer证书文件。cer证书包括发布的证书，notification_push等功能拓展证书。
当生成Indentifiers时如果选择拓展的功能的时候，需要有对应的功能拓展证书。
生成Profiles时，需要选着对应的Indentifier与cer文件。</p>

<h2>certificate</h2>

<p>对于开发者而言，证书有效，Indentifiers和Profiles对应的生成便可。而有效的证书要保证证书在有效期外还要有证书的权限（private key）。</p>

<h3>CSR</h3>

<p>要了解证书签名请求（csr），首先了解RSA</p>

<h4>RSA</h4>

<p>RSA（非对称加密算法）简单的理解就是有一个公钥，一个私钥；公钥加密数据为<code>锁</code>，私钥用来解密数据位<code>钥匙</code>。</p>

<p><em>维基百科上有对rsa签名消息的解释：</em></p>

<pre><code>RSA也可以用来为一个消息署名。假如甲想给乙传递一个署名的消息的话，那么她可以为她的消息计算一个散列值(Message digest)，然后用她的密钥(private key)加密这个散列值并将这个“署名”加在消息的后面。这个消息只有用她的公钥才能被解密。乙获得这个消息后可以用甲的公钥解密这个散列值，然后将这个数据与他自己为这个消息计算的散列值相比较。假如两者相符的话，那么他就可以知道发信人持有甲的密钥，以及这个消息在传播路径上没有被篡改过。
</code></pre>

<p>如果证书实在生成签名的机器上使用没有问题，但到其他机器上便会遇到找不到私钥，无法使用的情况。</p>

<h3>p12</h3>

<p>对于解决公用证书其他机器没有私钥的解决方法是，在可以使用的机器上导出该证书为.p12格式，并设置密码。在该格式文件中将包含我们证书所需要的私钥。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/30/iosping-mu-gua-pei/">iOS屏幕适配</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-30T22:50:08+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:50 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>比对表</h2>

<table>
<thead>
<tr>
<th> 型号/参数   </th>
<th> Iphone3GS-  </th>
<th> Iphone4+   </th>
<th>  Iphone5+  </th>
<th>  Iphone6  </th>
<th> Iphone6Plus       </th>
</tr>
</thead>
<tbody>
<tr>
<td> PT         </td>
<td>   320X480   </td>
<td> 320X480    </td>
<td>  320X568   </td>
<td>  375X667  </td>
<td>  414X736          </td>
</tr>
<tr>
<td> 渲染PX      </td>
<td>   320X480   </td>
<td> 640X960    </td>
<td>  640X1136  </td>
<td>  750X1334 </td>
<td> 1242X2208         </td>
</tr>
<tr>
<td> 物理PX      </td>
<td>   320X480   </td>
<td> 640X960   </td>
<td>  640X1136  </td>
<td>  750X1334 </td>
<td> 1080X1920(1.15)   </td>
</tr>
<tr>
<td> 屏幕大小    </td>
<td>   3.5&#8221;       </td>
<td> 3.5&#8221;      </td>
<td>  4.0&#8221;     </td>
<td>   4.7&#8221;    </td>
<td>  5.5&#8221;              </td>
</tr>
<tr>
<td> PPI        </td>
<td>   163        </td>
<td> 326       </td>
<td>  326      </td>
<td>   326     </td>
<td>  401              </td>
</tr>
</tbody>
</table>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/11/09/rubyhuan-jing-pei-zhi/">Ruby环境配置</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-09T13:21:34+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>9</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>1:21 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><!-- # ruby

![Ruby icon](http://learn-rails.com/images/ruby.png) -->


<h2>ruby安装</h2>

<p>ruby安装方式有下面几种</p>

<ul>
<li>原始码编译安装，下载相应版本的安装包安装（<a href="https://www.ruby-lang.org/zh_cn/downloads/">下载地址</a>）</li>
<li>第三方工具安装</li>
<li>少数的套件管理工具支持ruby</li>
</ul>


<p>考虑到多版本的管理，这里使用第二种方式（第三方工具）安装。第三方工具安装有RVM和Rbenv可选</p>

<h3>RVM</h3>

<p>rvm可以通过brew安装（<a href="http://brew.sh/index_zh-tw.html">brew的介绍与安装</a>），在安装前需要先安装装git版本控制</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ brew install git
</span><span class='line'>$ brew install readline
</span><span class='line'>$ brew link readline</span></code></pre></td></tr></table></div></figure>


<p>然后安装rvm</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ \curl -L https://get.rvm.io | bash -s stable --ruby</span></code></pre></td></tr></table></div></figure>


<p>查看rvm的版本，来验证rvm是否已安装</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm -v</span></code></pre></td></tr></table></div></figure>


<p>当你的rvm不是最新版本，可以升级你的rvm版本</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm get stable</span></code></pre></td></tr></table></div></figure>


<p>接下来就可以通过rvm来安装ruby，下面将安装版本2.1.2的ruby，并将2.1.2版本作为当前预设版本</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm install 2.1.2
</span><span class='line'>$ rvm 2.1.2 --default</span></code></pre></td></tr></table></div></figure>


<p>查看ruby版本号，可以确认当前预设ruby的版本</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ruby -v</span></code></pre></td></tr></table></div></figure>


<p>如果还需要安装其他的版本的ruby，可以先查看可以安装的ruby版本，并选择你需要安装的版本</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm list known</span></code></pre></td></tr></table></div></figure>


<p>当安装了多个版本ruby后，查看已经安装了ruby</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm list</span></code></pre></td></tr></table></div></figure>


<p>这时如果你希望改变ruby的预设版本可以通过<code>rvm xxx -default</code> 来更新预设版本，这样的话每次打开个terminal窗口都会使用该版本的ruby。除了预设版本之外，如果你只在当前的terminal窗口使用某版本的ruby</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm use 1.9.3</span></code></pre></td></tr></table></div></figure>


<p>切换到系统内建的ruby版本</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ rvm system</span></code></pre></td></tr></table></div></figure>


<h3>rbenv</h3>

<ul>
<li><a href="https://github.com/sstephenson/rbenv">rbenv</a></li>
<li><a href="https://ruby-china.org/wiki/rbenv-guide">rbenv使用</a></li>
</ul>


<h2>ruby使用</h2>

<h3>交互式运行Ruby</h3>

<p>要以交互式的运行ruby，只需要输入</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ruby</span></code></pre></td></tr></table></div></figure>


<p>然后输入你的ruby程序，以文件结束符结束（Ctrl+D）。</p>

<p>不多这样的方式操作比较麻烦，irb相对而言会是个更好地选择，irb是一个Ruby Shell。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ irb</span></code></pre></td></tr></table></div></figure>


<h3>运行Ruby程序文件</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ruby rubydemo.rb</span></code></pre></td></tr></table></div></figure>


<h3>Ruby查看文档</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ri puts</span></code></pre></td></tr></table></div></figure>


<h4>官方网站</h4>

<ul>
<li>中文<a href="https://www.ruby-lang.org/zh_tw/">https://www.ruby-lang.org/zh_tw/</a></li>
<li>英文<a href="https://www.ruby-lang.org/en/">https://www.ruby-lang.org/en/</a></li>
</ul>


<h4>Github</h4>

<p><a href="https://github.com/ruby/ruby">https://github.com/ruby/ruby</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/27/title/">Ssh 免输入密码</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-08-27T22:39:56+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:39 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><!-- #ssh免输入 -->


<p>SSH(Secure Shell) 密钥对可以让您方便的登录到 SSH 服务器，而无需输入密码。由于您无需发送您的密码到网络中，SSH 密钥对被认为是更加安全的方式。再加上使用密码短语 (passphrase) 的使用，安全性会更上一层楼。</p>

<p>常见的密钥规则有RSA1，RSA2和DSA。</p>

<p>SSH 密钥对总是成双出现的，一把公钥，一把私钥。公钥可以自由的放在您所需要连接的 SSH 服务器上，而私钥必须稳妥的保管好。</p>

<p>所谓&#8221;公钥登录&#8221;，原理很简单，就是用户将自己的公钥储存在远程主机上。登录的时候，远程主机会向用户发送一段随机字符串，用户用自己的私钥加密后，再发回来。远程主机用事先储存的公钥进行解密，如果成功，就证明用户是可信的，直接允许登录 shell，不再要求密码。这样子，我们即可保证了整个登录过程的安全，也不会受到中间人攻击。</p>

<h2>生成</h2>

<p>这里用RSA2生成密钥对。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ssh-keygen -t rsa </span></code></pre></td></tr></table></div></figure>


<pre><code>Generating public/private rsa key pair.

Enter file in which to save the key (/home/username/.ssh/id_rsa): [按 Enter 使用默认值（建议）]

Enter passphrase: 输入你的 Passphrase

Enter same passphrase again: 再一次输入你的 Passphrase

Your identification has been saved in /home/username/.ssh/id_rsa.

Your public key has been saved in /home/username/.ssh/id_rsa.pub.

The key fingerprint is: cc:e8:a9:da:a3:41:c6:a9:97:52:59:ef:0c:cf:45:b6 username@abc.com
</code></pre>

<p>上面的操作中你可以不输入Passphrase,按回车键可以跳过，这样的话下次你登陆服务器是不需要输入Passphrase。</p>

<h2>公钥放到服务器</h2>

<p>如果你使用了默认方式生成了密钥对</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ssh-copy-id remote-server.org</span></code></pre></td></tr></table></div></figure>


<p>指定密钥文件</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ssh-copy-id remote-server.org</span></code></pre></td></tr></table></div></figure>


<pre><code>指定远程服务器监听端口

```
$ ssh-copy-id -i ~/.ssh/id_rsa.pub username@remote-server.org
```

如果没有`ssh-copy-id`命令，请先安装

```
$ ssh-copy-id -i ~/.ssh/id_ecdsa.pub -p 221 username@remote-server.org
```
</code></pre>

<p>服务器要支持openssh，如果不支持，先安装（以下命令在服务器运行。以下是ubuntu服务器）</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>~$ sudo apt-get install openssh-server </span></code></pre></td></tr></table></div></figure>


<p>如果生成过程中有输入Passphrase，那么会每次登陆远程服务器还要输入passphrase，这样太麻烦了，那么你还可能需要使用<code>ssh-agent</code>。这里就不做详细介绍了，请参照<a href="http://josephj.com/article/understand-ssh-key/">此文章</a></p>

<h2>登陆到服务器</h2>

<h4>参考资料</h4>

<ul>
<li><a href="https://wiki.archlinux.org/index.php/SSH_Keys_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">https://wiki.archlinux.org/index.php/SSH_Keys_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)</a></li>
<li><a href="http://josephj.com/article/understand-ssh-key/">http://josephj.com/article/understand-ssh-key/</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/05/start/">Start</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-04-05T18:05:30+08:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>6:05 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The Blog Start</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/12/06/wang-luo-chu/">网络初窥</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/12/06/railshuan-jing-pei-zhi/">Rails环境配置</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/30/certificates-identifiers-and-profiles/">Certificates, Identifiers &amp; Profiles</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/30/iosping-mu-gua-pei/">iOS屏幕适配</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/09/rubyhuan-jing-pei-zhi/">Ruby环境配置</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - vic -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
